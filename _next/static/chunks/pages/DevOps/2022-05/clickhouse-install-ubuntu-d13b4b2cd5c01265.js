(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8382],{2840:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/DevOps/2022-05/clickhouse-install-ubuntu",function(){return s(2614)}])},2614:function(e,n,s){"use strict";s.r(n);var t=s(5893),r=s(9305);s(7294);var a=s(850);n.default=()=>(0,t.jsxs)(r.Xg,{blogcentered:!0,children:[(0,t.jsx)(r.xv,{title:!0,className:"mt-10 md:text",children:"Установка"}),(0,t.jsxs)(r.xv,{p:!0,children:["Подробные сведения об установке можно найти в ",(0,t.jsx)("b",{children:(0,t.jsx)("u",{children:(0,t.jsx)(r.e9,{newTab:!0,href:"https://clickhouse.com/docs/ru/getting-started/install",children:"официальной документации"})})}),"."]}),(0,t.jsx)(r.xv,{p:!0,children:"В Ubuntu будет выполнять установку из DEB-пакетов."}),(0,t.jsx)(a.Z,{code:'\nsudo apt-get install -y apt-transport-https ca-certificates dirmngr\nsudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv 8919F6BD2B48D754\n\necho "deb https://packages.clickhouse.com/deb stable main" | sudo tee \\\n    /etc/apt/sources.list.d/clickhouse.list\nsudo apt-get update\n\nsudo apt-get install -y clickhouse-server clickhouse-client\n                ',className:"my-5",language:"bash"}),(0,t.jsx)(r.xv,{p:!0,children:"При установке будет запрошен пароль для пользователя default, поставьте его на свое усмотрение."}),(0,t.jsx)(r.xv,{title:!0,className:"mt-10 md:text",children:"Начальная настройка"}),(0,t.jsx)(r.xv,{p:!0,children:"Первым делом разрешим подключаться к серверу с других хостов."}),(0,t.jsx)(r.xv,{p:!0,children:"Идем в файл /etc/clickhouse-server/config.xml и находим настройку ::. Раскомментируем ее."}),(0,t.jsx)(a.Z,{code:"\n...\n    <!-- Listen specified address.\n         Use :: (wildcard IPv6 address), if you want to accept connections both with IPv4 and IPv6 from everywhere.\n         Notes:\n         If you open connections from wildcard address, make sure that at least one of the following measures applied:\n         - server is protected by firewall and not accessible from untrusted networks;\n         - all users are restricted to subset of network addresses (see users.xml);\n         - all users have strong passwords, only secure (TLS) interfaces are accessible, or connections are only made via TLS interfaces.\n         - users without password have readonly access.\n         See also: https://www.shodan.io/search?query=clickhouse\n      -->\n    <listen_host>::</listen_host>\n...\n                ",className:"my-5",language:"text"}),(0,t.jsx)(r.xv,{p:!0,children:"Далнее в файле /etc/clickhouse-server/users.xml разрешаем управление пользователями и их правами доступа через SQL-команды для пользователя default."}),(0,t.jsx)(r.xv,{p:!0,children:"Находим 1 и раскомментируем ее."}),(0,t.jsx)(a.Z,{code:"\n...\n            <!-- Settings profile for user. -->\n            <profile>default</profile>\n\n            <!-- Quota for user. -->\n            <quota>default</quota>\n\n            <!-- User can create other users and grant rights to them. -->\n            <access_management>1</access_management>\n...\n                ",className:"my-5",language:"text"}),(0,t.jsx)(r.xv,{p:!0,children:"Готово!"}),(0,t.jsx)(r.xv,{title:!0,className:"mt-10 md:text",children:"Запускаем и проверяем"}),(0,t.jsx)(r.xv,{p:!0,children:"Далее запускаем демон сервера ClickHouse и подключаемся стандартным клиентом clickhouse-client."}),(0,t.jsx)(a.Z,{code:'\nsudo service clickhouse-server start\nclickhouse-client # или "clickhouse-client --password" если был установлен пароль пользователю default\n                ',className:"my-5",language:"text"}),(0,t.jsx)(r.xv,{p:!0,children:"Подключение должно пройти успешно."}),(0,t.jsx)(r.xv,{title:!0,className:"mt-10 md:text",children:"Полезные ссылки"}),(0,t.jsxs)(r.aV,{children:[(0,t.jsx)("li",{children:(0,t.jsx)("b",{children:(0,t.jsx)("u",{children:(0,t.jsx)(r.e9,{newTab:!0,href:"https://github.com/YPermitin/ClickHouseTools",children:"Репозиторий с полезной информацией по ClickHouse"})})})}),(0,t.jsx)("li",{children:(0,t.jsx)("b",{children:(0,t.jsx)("u",{children:(0,t.jsx)(r.e9,{newTab:!0,href:"https://clickhouse.com/docs/ru/getting-started/install",children:"Установка ClickHouse Server"})})})}),(0,t.jsx)("li",{children:(0,t.jsx)("b",{children:(0,t.jsx)("u",{children:(0,t.jsx)(r.e9,{newTab:!0,href:"https://clickhouse.com/docs/en/interfaces",children:"Интерфейсы для работы с ClickHouse"})})})}),(0,t.jsx)("li",{children:(0,t.jsx)("b",{children:(0,t.jsx)("u",{children:(0,t.jsx)(r.e9,{newTab:!0,href:"https://github.com/dbeaver/dbeaver/wiki/Clickhouse",children:"DBeaver - GUI-утилита для работы с ClickHouse и не только"})})})})]})]})},850:function(e,n,s){"use strict";s.d(n,{Z:function(){return d}});var t=s(5893),r=s(7294),a=s(4965),l=s(4275),c=s(7340);function i(){let e=(0,c._)(["\n  text-align: left;\n  overflow: hidden;\n  font-size: 14px;\n  border-radius: 6px;\n  overflow: auto;\n  max-height: 350px;\n\n  & .token-line {\n    line-height: 1.3em;\n    height: 1.3em;\n  }\n"]);return i=function(){return e},e}let o=s(964).ZP.pre(i());var d=e=>{let{code:n,className:c,language:i}=e;return(void 0!==s.g?s.g:window).Prism=a.p1,s(1354),s(9016),s(5266),s(2927),s(1315),s(7874),s(6862),(0,t.jsx)("div",{className:(0,l.GF)("bg-blue-500 md:p-5 p-2",c),children:(0,t.jsx)("div",{className:"shadow-lg",children:(0,t.jsx)(a.y$,{theme:a.np.vsDark,code:n,language:null!=i?i:i="tsx",children:e=>{let{className:n,style:s,tokens:a,getLineProps:l,getTokenProps:c}=e;return(0,t.jsx)(o,{className:n,style:s,children:a.map((e,n)=>(0,r.createElement)("div",{...l({line:e,key:n}),key:Math.random()},e.map((e,n)=>(0,r.createElement)("span",{...c({token:e,key:n}),key:Math.random()}))))})}})})})}},9305:function(e,n,s){"use strict";s.d(n,{Ee:function(){return c},Xg:function(){return a},aV:function(){return o},e9:function(){return d},o_:function(){return u},ty:function(){return i},xv:function(){return l}});var t=s(5152),r=s.n(t);let a=r()(()=>Promise.all([s.e(4838),s.e(4738),s.e(4817),s.e(1664),s.e(7167)]).then(s.bind(s,7167)),{loadableGenerated:{webpack:()=>[7167]}}),l=r()(()=>s.e(9179).then(s.bind(s,9179)),{loadableGenerated:{webpack:()=>[9179]}}),c=r()(()=>s.e(1974).then(s.bind(s,1974)),{loadableGenerated:{webpack:()=>[1974]}}),i=r()(()=>s.e(8547).then(s.bind(s,8547)),{loadableGenerated:{webpack:()=>[8547]}}),o=r()(()=>s.e(6806).then(s.bind(s,6806)),{loadableGenerated:{webpack:()=>[6806]}}),d=r()(()=>Promise.all([s.e(1664),s.e(1465)]).then(s.bind(s,1465)),{loadableGenerated:{webpack:()=>[1465]}});r()(()=>s.e(567).then(s.bind(s,567)),{loadableGenerated:{webpack:()=>[567]}}),r()(()=>Promise.all([s.e(2004),s.e(4139)]).then(s.bind(s,4139)),{loadableGenerated:{webpack:()=>[4139]}});let u=r()(()=>Promise.all([s.e(5507),s.e(7472),s.e(584),s.e(7870)]).then(s.bind(s,7870)),{loadableGenerated:{webpack:()=>[7870]}})}},function(e){e.O(0,[1102,2888,9774,179],function(){return e(e.s=2840)}),_N_E=e.O()}]);