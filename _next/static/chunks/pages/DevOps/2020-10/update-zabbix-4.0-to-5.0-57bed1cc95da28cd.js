(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8294],{3486:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/DevOps/2020-10/update-zabbix-4.0-to-5.0",function(){return s(5433)}])},5433:function(e,a,s){"use strict";s.r(a);var n=s(5893),r=s(9305);s(7294);var t=s(850),i=s(7105);a.default=()=>(0,n.jsxs)(r.Xg,{blogcentered:!0,children:[(0,n.jsx)(r.xv,{title:!0,className:"mt-10 md:text",children:"Стоит ли обновлять"}),(0,n.jsxs)(r.xv,{p:!0,children:["Первый вопрос: для чего может понадобиться переход с Zabbix 4.0 на 5.0, если и так все работает. Ответ простой: для получения новых возможностей мониторинга и улучшенного текущего функционала. На ",(0,n.jsx)("b",{children:(0,n.jsx)("u",{children:(0,n.jsx)(r.e9,{newTab:!0,href:"https://www.zabbix.com/ru/whats_new_5_0",children:"официальной странице Вы можете найти описание нововведений,"})})})," а сейчас перечислю плюсы перехода в моем случае:"]}),(0,n.jsxs)(r.aV,{children:[(0,n.jsx)("li",{children:"Поддержка сжатия собранных данных в TimescaleDB (автоматическое партицирование, производительность и масштабируемость) при использовании PostgreSQL."}),(0,n.jsx)("li",{children:"Улучшенные агенты сбора данных."}),(0,n.jsx)("li",{children:"Улучшена работа со счетчиками производительности Windows, в т.ч. и для ОС на разных языках."}),(0,n.jsx)("li",{children:"Улучшенная работа с JSON."}),(0,n.jsx)("li",{children:"Расширенные возможности при работе с ODBC."}),(0,n.jsx)("li",{children:"Встроенная интеграция с популярными системами оповещения, в т.ч. и Telegram."}),(0,n.jsx)("li",{children:"Новый состав улучшенных шаблонов для многих популярных сервисов и приложений."})]}),(0,n.jsx)(r.xv,{p:!0,children:"Раньше обновление на новые версии могли приводить к проблемам, т.к. старые шаблоны собираемых метрик были не совместимы. Сейчас же Zabbix 5.0 поддерживает большинство старых шаблонов, что не может не радовать."}),(0,n.jsx)(r.xv,{p:!0,children:"В любом случае, обновлять или нет - это Ваш выбор. Но рекомендую это сделать."}),(0,n.jsx)(r.xv,{title:!0,className:"mt-10 md:text",children:"План действий"}),(0,n.jsx)(r.xv,{p:!0,children:"Обычный процесс обновления Zabbix на новую версию имеет такой план."}),(0,n.jsxs)(r.aV,{children:[(0,n.jsx)("li",{children:"Останавливаем Zabbix и делаем бэкап"}),(0,n.jsx)("li",{children:"Обновляем пакеты Zabbix"}),(0,n.jsx)("li",{children:"Первый запуск"}),(0,n.jsx)("li",{children:"Проверяем результаты"}),(0,n.jsx)("li",{children:"Обновляем прокси и агентов"}),(0,n.jsx)("li",{children:"Разбираем возникшие проблемы"})]}),(0,n.jsxs)(r.xv,{p:!0,children:["Будем придерживаться этого плана и сейчас. Подробную информацию по обновлению также можно получить в ",(0,n.jsx)("b",{children:(0,n.jsx)("u",{children:(0,n.jsx)(r.e9,{newTab:!0,href:"https://www.zabbix.com/documentation/current/ru/manual/installation/upgrade",children:"официальной документации."})})})]}),(0,n.jsx)(r.xv,{title:!0,className:"mt-10 md:text",children:"Перед началом"}),(0,n.jsx)(r.xv,{p:!0,children:"Стоит напомнить, что все действия выполняются в операционной системе CentOS 7. Сервер Zabbix установлен версии 4.0, а в качестве СУБД используется PostgreSQL 11. Для веб-интерфейса используется Apache."}),(0,n.jsx)(r.xv,{p:!0,children:"Для других дистрибутивов Linux и СУБД для Zabbix будут различия в синтаксисе команд и некоторых нюансах, но общая процедура будет такой же."}),(0,n.jsx)(r.xv,{title:!0,className:"mt-10 md:text",children:"Останавливаем Zabbix и делаем бэкап"}),(0,n.jsx)(r.xv,{p:!0,children:"Первым делом нам нужно подстраховаться и сделать бэкап всех настроек. Это может быть бэкап всей виртуальной машины, если такое возможно. Или же можно сделать бэкап отдельных частей мониторинга. Остановимся на втором варианте, т.к. он более сложный по количеству выполняемых действий."}),(0,n.jsx)(r.xv,{p:!0,children:"И так, начнем! Остановим службу сервера Zabbix."}),(0,n.jsx)(t.Z,{code:"\nsystemctl stop zabbix-server\n                ",className:"my-5",language:"bash"}),(0,n.jsx)(r.xv,{p:!0,children:"Теперь мы можем сделать бэкап всех настроек и базы данных. Для примера мы сохраним бэкап всех настроек, компонентов и базу данных в каталог “/opt/zabbix_backup_data”."}),(0,n.jsx)(t.Z,{code:"\n# Подготавливаем каталоги для бэкапа данных\nmkdir -p /opt/zabbix_backup_data/bin\nmkdir -p /opt/zabbix_backup_data/conf\nmkdir -p /opt/zabbix_backup_data/doc\nmkdir -p /opt/zabbix_backup_data/web\nmkdir -p /opt/zabbix_backup_data/db\n\n# Копируем данные в созданные каталоги\n# Конфигурация сервера Zabbix\ncp -rp /etc/zabbix/zabbix_server.conf /opt/zabbix_backup_data/conf\n# Файлы сервера Zabbix\ncp -rp /usr/sbin/zabbix_server /opt/zabbix_backup_data/bin\ncp -rp /usr/share/doc/zabbix-* /opt/zabbix_backup_data/doc\n# Конфигурация веб-сервера\ncp -rp /etc/httpd/conf.d/zabbix.conf /opt/zabbix_backup_data/conf 2>/dev/null\ncp -rp /etc/apache2/conf-enabled/zabbix.conf /opt/zabbix_backup_data/conf 2>/dev/null\n# Конфигурация PHP\ncp -rp /etc/zabbix/php-fpm.conf /opt/zabbix_backup_data/conf 2>/dev/null\n# Файлы веб-интерфейса\ncp -rp /usr/share/zabbix/ /opt/zabbix_backup_data/web\n\n# Делаем бэкап базы zabbix с помощью утилиты pg_dump\n# Внимание! Вы должны быть аутентифицированы под пользователем, который имеет доступ\n# к экземпляру PostgreSQL и базе Zabbix. Также убедитесь, что у него есть доступ\n# к каталогу, куда собираетесь сохранить бэкап.\npg_dump zabbix > /opt/zabbix_backup_data/db/zabbix_db_backup.bak\n\n# Процесс создания бэкапа может занимать длительное время. \n# Все зависит от размера базы.\n                ",className:"my-5",language:"bash"}),(0,n.jsx)(r.xv,{p:!0,children:"Мы сохранили все необходимое на случай отката изменений. Пойдем дальше."}),(0,n.jsx)(r.xv,{title:!0,className:"mt-10 md:text",children:"Обновляем пакеты Zabbix"}),(0,n.jsx)(r.xv,{p:!0,children:"Процесс сервера Zabbix мы уже остановили ранее. Теперь настал момент обновить пакеты. Сначала проверим какие пакеты Zabbix установлены в системе."}),(0,n.jsx)(t.Z,{code:"\nyum list installed | grep zabbix\n                ",className:"my-5",language:"bash"}),(0,n.jsx)(r.xv,{p:!0,children:"В выводе будут присутствовать все пакеты, связанные с Zabbix и их версии. В нашем случае список пакетов будет таким."}),(0,n.jsx)(t.Z,{code:"\nzabbix-agent.x86_64\nzabbix-apache-conf.noarch\nzabbix-get.x86_64\nzabbix-release.noarch\nzabbix-server-pgsql.x86_64\nzabbix-web.noarch\nzabbix-web-pgsql.noarch\n                ",className:"my-5",language:"text"}),(0,n.jsxs)(r.xv,{p:!0,children:["Настало время обновить их. Идем на официальную страницу загрузки пакетов и выбираем версии Zabbix, ОС, СУБД и веб-сервера. В результате нам дадут ссылку на репозиторий с пакетами, из которого и нужно поставить обновления. В нашем примере ",(0,n.jsx)("b",{children:(0,n.jsx)("u",{children:(0,n.jsx)(r.e9,{newTab:!0,href:"https://www.zabbix.com/ru/download?zabbix=5.0&os_distribution=centos&os_version=7&db=postgresql&ws=apache",children:"это выглядит так."})})})]}),(0,n.jsx)(r.xv,{p:!0,children:"Выполним обновление ссылок на репозиторий."}),(0,n.jsx)(t.Z,{code:"\nrpm -Uvh https://repo.zabbix.com/zabbix/5.0/rhel/7/x86_64/zabbix-release-5.0-1.el7.noarch.rpm\n\nyum clean all\n                ",className:"my-5",language:"bash"}),(0,n.jsx)(r.xv,{p:!0,children:"Теперь мы можем обновить эти пакеты."}),(0,n.jsx)(t.Z,{code:"\nyum upgrade -y zabbix-server-pgsql zabbix-get zabbix-web-pgsql zabbix-web zabbix-apache-conf zabbix-agent\n                ",className:"my-5",language:"bash"}),(0,n.jsx)(r.xv,{p:!0,children:"Если Вы используете Apache, то может понадобиться выполнить команду повторной установки."}),(0,n.jsx)(t.Z,{code:"\nyum install -y zabbix-apache-conf\n                ",className:"my-5",language:"bash"}),(0,n.jsx)(r.xv,{p:!0,children:"После завершения обновления можно перейти к первому запуску."}),(0,n.jsx)(r.xv,{title:!0,className:"mt-10 md:text",children:"Обновляем пакеты Zabbix"}),(0,n.jsx)(r.xv,{p:!0,children:"Первый запуск"}),(0,n.jsx)(r.xv,{p:!0,children:"Большая часть работы позади, и мы можем попытаться запустить сервер и перейти в веб-интерфейс."}),(0,n.jsx)(t.Z,{code:"\nsystemctl start zabbix-server\n                ",className:"my-5",language:"bash"}),(0,n.jsx)(r.xv,{p:!0,children:"После первого запуска не стоит сразу бежать в браузер. Дайте процессу Zabbix обновить базу данных на новую версию. Прогресс этой операции можно посмотреть с помощью логов."}),(0,n.jsx)(t.Z,{code:"\ncat /var/log/zabbix/zabbix_server.log | grep database | tail -n 20\n\n  2949:20201018:110534.112 completed 87% of database upgrade\n  2949:20201018:110534.115 completed 88% of database upgrade\n  2949:20201018:110534.118 completed 89% of database upgrade\n  2949:20201018:110534.120 completed 90% of database upgrade\n  2949:20201018:110534.123 completed 91% of database upgrade\n  2949:20201018:110534.126 completed 92% of database upgrade\n  2949:20201018:110534.128 completed 93% of database upgrade\n  2949:20201018:110534.130 completed 94% of database upgrade\n  2949:20201018:110534.133 completed 95% of database upgrade\n  2949:20201018:110534.135 completed 96% of database upgrade\n  2949:20201018:110534.136 completed 97% of database upgrade\n  2949:20201018:110534.137 completed 98% of database upgrade\n  2949:20201018:110534.138 completed 99% of database upgrade\n  2949:20201018:110534.139 completed 100% of database upgrade\n  2949:20201018:110534.139 database upgrade fully completed\n  2949:20201018:110534.155 database is not upgraded to use double precision values\n                ",className:"my-5",language:"text"}),(0,n.jsx)(r.xv,{p:!0,children:"Команда показывает последние 20 записей из логов, связанных с процессом обновления базы данных. Как мы видим, в конце написано, что база успешно обновлена."}),(0,n.jsx)(r.xv,{p:!0,children:"Но радоваться еще рано. Если перейти в веб-интерфейс, то мы увидим сообщение об ошибке."}),(0,n.jsx)(t.Z,{code:"\nThe Zabbix database version does not match current requirements. Your database version: 5000000. Required version: 4000000. Please contact your system administrator.\n                ",className:"my-5",language:"text"}),(0,n.jsx)(r.xv,{p:!0,children:"То есть база данных для версии 5.0, а веб-интерфейсу требуется версия 4.0. Но как так? Мы же обновили все пакеты!"}),(0,n.jsx)(r.xv,{p:!0,children:"Все связано с тем, что версия PHP 7.2, которая нужна для 5 версии Zabbix, отсутствует в базовых репозиториях CentOS 7. Из-за этого фактически пакеты zabbix-web и zabbix-web-pgsql не обновились и до сих пор остаются от 4 версии. Для решения проблемы подключим репозиторий “centos-release-scl” и переустановим эти два пакета. Первым делом удалим предыдущие версии:"}),(0,n.jsx)(t.Z,{code:"\nyum remove zabbix-web-*\n                ",className:"my-5",language:"bash"}),(0,n.jsx)(r.xv,{p:!0,children:"Теперь подключим репозиторий “centos-release-scl”:"}),(0,n.jsx)(t.Z,{code:"\nyum install centos-release-scl\n                ",className:"my-5",language:"bash"}),(0,n.jsx)(r.xv,{p:!0,children:"После этого активируем новые настройки Zabbix для Apache. Для этого в файле “/etc/httpd/conf.d/zabbix.conf” должна быть такая строка:"}),(0,n.jsx)(t.Z,{code:"\nyum install centos-release-scl\n                ",className:"my-5",language:"text"}),(0,n.jsx)(r.xv,{p:!0,children:'SetHandler "proxy:unix:/var/opt/rh/rh-php72/run/php-fpm/zabbix.sock|fcgi://localhost"'}),(0,n.jsx)(r.xv,{p:!0,children:"Эта настройка позволяет использовать PHP 7.2 из пакета PHP-FPM. Перезапускаем все службы:"}),(0,n.jsx)(t.Z,{code:"\n# Перезапускаем сервер Zabbix и веб-сервер\nsystemctl restart zabbix-server httpd\n# Включаем автозапуск PHP-FPM\nsystemctl enable --now rh-php72-php-fpm\n                ",className:"my-5",language:"bash"}),(0,n.jsx)(r.xv,{p:!0,children:"Теперь мы можем перейти в браузере в веб-интерфейс и успешно авторизоваться."}),(0,n.jsx)(r.Ee,{className:"my-4",src:"/public/imp_assets/DevOps/2020-10/update-zabbix-4.0-to-5.0/1. Успешный вход после обновления.png",alt:"Успешный вход после обновления",size:i.h2.MEDIUM}),(0,n.jsx)(r.xv,{p:!0,children:"Единственный нюанс - может потребоваться очистка кэша браузера, т.к. кэш от старой версии веб-интерфейса может привести к некорректному отображению разметки или выполнению некоторых функций. Нажмите Ctrl+F5 для обновления кэша браузера текущей страницы."}),(0,n.jsx)(r.xv,{title:!0,className:"mt-10 md:text",children:"Проверяем результаты"}),(0,n.jsxs)(r.xv,{p:!0,children:[(0,n.jsx)("b",{children:(0,n.jsx)("u",{children:(0,n.jsx)(r.e9,{newTab:!0,href:"/pages/DevOps/2020-10/zabbix-diagnostic.tsx",children:"В прошлой публикации"})})})," мы рассмотрели основные способы диагностики работы мониторинга. Там же было сказано, что логи сервера - основной источник данных о его работе и возможных проблемах. Посмотрим есть ли ошибки в логах."]}),(0,n.jsx)(t.Z,{code:"\ngrep -i error /var/log/zabbix/zabbix_server.log\n                ",className:"my-5",language:"bash"}),(0,n.jsx)(r.xv,{p:!0,children:"В моем случае ошибок никаких не возникало. Тогда можно посмотреть последние 50 событий."}),(0,n.jsx)(t.Z,{code:"\ntail -n 30 /var/log/zabbix/zabbix_server.log\n\n  4954:20201018:115732.058 server #25 started [icmp pinger #1]\n  4958:20201018:115732.059 server #29 started [alerter #3]\n  4964:20201018:115732.059 server #35 started [lld worker #1]\n  4944:20201018:115732.059 server #15 started [poller #2]\n  4951:20201018:115732.064 server #22 started [trapper #3]\n  4963:20201018:115732.070 server #34 started [lld manager #1]\n  4932:20201018:115732.070 server #3 started [timer #1]\n  4953:20201018:115732.074 server #24 started [trapper #5]\n  4955:20201018:115732.083 server #26 started [alert manager #1]\n  4956:20201018:115732.084 server #27 started [alerter #1]\n  4957:20201018:115732.084 server #28 started [alerter #2]\n  4959:20201018:115732.084 server #30 started [preprocessing manager #1]\n  4960:20201018:115732.085 server #31 started [preprocessing worker #1]\n  4962:20201018:115732.085 server #33 started [preprocessing worker #3]\n  4965:20201018:115732.085 server #36 started [lld worker #2]\n  4961:20201018:115732.118 server #32 started [preprocessing worker #2]\n  4931:20201018:122734.734 executing housekeeper\n  4931:20201018:122734.909 housekeeper [deleted 3168 hist/trends, 7 items/triggers, 0 events, 0 problems, 0 sessions, 0 alarms, 0 audit, 0 records in 0.171355 sec, idle for 1 hour(s)]\n  4931:20201018:132741.474 executing housekeeper\n  4931:20201018:132741.539 housekeeper [deleted 4599 hist/trends, 0 items/triggers, 0 events, 0 problems, 0 sessions, 0 alarms, 0 audit, 0 records in 0.060424 sec, idle for 1 hour(s)]\n  4931:20201018:142748.409 executing housekeeper\n  4931:20201018:142748.480 housekeeper [deleted 4595 hist/trends, 0 items/triggers, 0 events, 2 problems, 0 sessions, 0 alarms, 0 audit, 0 records in 0.066891 sec, idle for 1 hour(s)]\n  4931:20201018:152754.686 executing housekeeper\n  4931:20201018:152754.761 housekeeper [deleted 4601 hist/trends, 0 items/triggers, 0 events, 1 problems, 0 sessions, 0 alarms, 0 audit, 0 records in 0.071199 sec, idle for 1 hour(s)]\n  4931:20201018:162801.570 executing housekeeper\n  4931:20201018:162801.634 housekeeper [deleted 4607 hist/trends, 0 items/triggers, 0 events, 1 problems, 0 sessions, 0 alarms, 0 audit, 0 records in 0.060641 sec, idle for 1 hour(s)]\n  4931:20201018:172808.511 executing housekeeper\n  4931:20201018:172808.574 housekeeper [deleted 4598 hist/trends, 0 items/triggers, 0 events, 1 problems, 0 sessions, 0 alarms, 0 audit, 0 records in 0.058850 sec, idle for 1 hour(s)]\n  4931:20201018:182815.213 executing housekeeper\n  4931:20201018:182815.285 housekeeper [deleted 4601 hist/trends, 0 items/triggers, 0 events, 0 problems, 0 sessions, 0 alarms, 0 audit, 0 records in 0.067710 sec, idle for 1 hour(s)]\n                ",className:"my-5",language:"text"}),(0,n.jsx)(r.xv,{p:!0,children:"Ничего особенно в логах не видим: процессы запущены, работает housekeeper, все штатно. Тогда зайдем в список хостов в веб-интерфейсе и проверим собираются ли метрики."}),(0,n.jsx)(r.Ee,{className:"my-4",src:"/public/imp_assets/DevOps/2020-10/update-zabbix-4.0-to-5.0/2. Сбор данных продолжается.png",alt:"Сбор данных продолжается",size:i.h2.MEDIUM}),(0,n.jsx)(r.xv,{p:!0,children:"Тоже все хорошо. Несмотря на то, что агентов мы не обновляли (кроме агента на Zabbix-сервере), мониторинг продолжает работать в штатном режиме."}),(0,n.jsx)(r.xv,{p:!0,children:"Однако, на основной панели веб-интерфейса можно увидеть вот такую информацию об ошибке."}),(0,n.jsx)(r.Ee,{className:"my-4",src:"/public/imp_assets/DevOps/2020-10/update-zabbix-4.0-to-5.0/3. Ошибка с настройкой часового пояса PHP.png",alt:"Ошибка с настройкой часового пояса PHP",size:i.h2.MEDIUM}),(0,n.jsx)(r.xv,{p:!0,children:"Для исправления достаточно в файле “/etc/opt/rh/rh-php72/php-fpm.d/zabbix.conf” исправить параметр “date.timezone” (расскоментировать и поставить нужный часовой пояс). Вот так в моем случае выглядит параметр до и после изменения:"}),(0,n.jsx)(t.Z,{code:"\n# До\n; php_value[date.timezone] = Europe/Riga\n\n# После\nphp_value[date.timezone] = Asia/Yekaterinburg\n                ",className:"my-5",language:"text"}),(0,n.jsx)(r.xv,{p:!0,children:"После изменения параметров обязательно нужно перезапустить службы и включить их запуск автоматически при загрузке ОС."}),(0,n.jsx)(t.Z,{code:"\nsystemctl restart zabbix-server zabbix-agent httpd rh-php72-php-fpm\nsystemctl enable zabbix-server zabbix-agent httpd rh-php72-php-fpm\n                ",className:"my-5",language:"bash"}),(0,n.jsx)(r.xv,{p:!0,children:"После этого ошибка настройки часового пояса больше не появится."}),(0,n.jsx)(r.xv,{title:!0,className:"mt-10 md:text",children:"Добавляем новые шаблоны"}),(0,n.jsx)(r.xv,{p:!0,children:"В 5 версии Zabbix появились новые усовершенствованные шаблоны, но после обновления они не появились автоматически. Добавим их вручную."}),(0,n.jsxs)(r.xv,{p:!0,children:["Для этого идем на официальный сайт и скачиваем шаблоны. Например, ",(0,n.jsx)("b",{children:(0,n.jsx)("u",{children:(0,n.jsx)(r.e9,{newTab:!0,href:"https://share.zabbix.com/official-templates/zabbix-official-template-pack",children:"вот эти"})})}),". Добавляем все что необходимо и используем в своих узлах мониторинга."]}),(0,n.jsx)(r.xv,{p:!0,children:"Конечно, возможно придется отказаться от старых шаблонов, но это уже другая история."}),(0,n.jsx)(r.xv,{title:!0,className:"mt-10 md:text",children:"Обновляем прокси и агентов"}),(0,n.jsx)(r.xv,{p:!0,children:"Обновление Zabbix-прокси практически такое же как и для сервера, но с одним исключением. Вместо команды:"}),(0,n.jsx)(t.Z,{code:"\nyum upgrade -y zabbix-server-pgsql zabbix-frontend-php\n                ",className:"my-5",language:"bash"}),(0,n.jsx)(r.xv,{p:!0,children:"нужно использовать:"}),(0,n.jsx)(t.Z,{code:"\nyum upgrade -y zabbix-proxy\n                ",className:"my-5",language:"bash"}),(0,n.jsx)(r.xv,{p:!0,children:"В остальном никаких проблем быть не должно. Вы всегда можете проверить какие пакеты Zabbix установлены на сервере с Zabbix-прокси, чтобы знать что обновлять. Команды для просмотра списка мы уже рассматривали выше."}),(0,n.jsx)(r.xv,{p:!0,children:"Что касается агентов, то тут тоже ничего нового. Просто актуализируйте репозиторий и выполните:"}),(0,n.jsx)(t.Z,{code:"\nyum upgrade -y zabbix-agent\n                ",className:"my-5",language:"bash"}),(0,n.jsx)(r.xv,{p:!0,children:"На самом деле мы это уже сделали на сервере в примере выше."}),(0,n.jsxs)(r.xv,{p:!0,children:["Обновить агентов в других ОС также не сложная: скачивайте новый дистрибутив и устанавливайте / обновляете его компоненты. Никаких сложностей не должно быть. Если же будут, то обратитесь к ",(0,n.jsx)("b",{children:(0,n.jsx)("u",{children:(0,n.jsx)(r.e9,{newTab:!0,href:"https://www.zabbix.com/documentation/current/ru/manual/installation/upgrade/packages/rhel_centos",children:"официальной документации."})})})]}),(0,n.jsx)(r.xv,{title:!0,className:"mt-10 md:text",children:"Продолжение следует"}),(0,n.jsx)(r.xv,{p:!0,children:"Теперь мы используем Zabbix 5 версии, задача успешно выполнена."}),(0,n.jsx)(r.xv,{p:!0,children:"Это была еще одна небольшая публикация по теме мониторинга с помощью Zabbix. В следующих статьях мы поговорим о создании своего шаблон для сбора метрик и рассмотрим некоторые особенности этого процесса, настроим уведомления в Telegram-канал, а также получении данных с Prometheus и визуализации данных в Grafana. И, конечно же, оптимизация производительности сервера мониторинга Zabbix!"}),(0,n.jsxs)(r.xv,{p:!0,children:["Будьте на связи ",":)"]})]})},850:function(e,a,s){"use strict";s.d(a,{Z:function(){return c}});var n=s(5893),r=s(7294),t=s(4965),i=s(4275),l=s(7340);function d(){let e=(0,l._)(["\n  text-align: left;\n  overflow: hidden;\n  font-size: 14px;\n  border-radius: 6px;\n  overflow: auto;\n  max-height: 350px;\n\n  & .token-line {\n    line-height: 1.3em;\n    height: 1.3em;\n  }\n"]);return d=function(){return e},e}let b=s(964).ZP.pre(d());var c=e=>{let{code:a,className:l,language:d}=e;return(void 0!==s.g?s.g:window).Prism=t.p1,s(1354),s(9016),s(5266),s(2927),s(1315),s(7874),s(6862),(0,n.jsx)("div",{className:(0,i.GF)("bg-blue-500 md:p-5 p-2",l),children:(0,n.jsx)("div",{className:"shadow-lg",children:(0,n.jsx)(t.y$,{theme:t.np.vsDark,code:a,language:null!=d?d:d="tsx",children:e=>{let{className:a,style:s,tokens:t,getLineProps:i,getTokenProps:l}=e;return(0,n.jsx)(b,{className:a,style:s,children:t.map((e,a)=>(0,r.createElement)("div",{...i({line:e,key:a}),key:Math.random()},e.map((e,a)=>(0,r.createElement)("span",{...l({token:e,key:a}),key:Math.random()}))))})}})})})}},9305:function(e,a,s){"use strict";s.d(a,{Ee:function(){return l},Xg:function(){return t},aV:function(){return b},e9:function(){return c},o_:function(){return x},ty:function(){return d},xv:function(){return i}});var n=s(5152),r=s.n(n);let t=r()(()=>Promise.all([s.e(4838),s.e(4738),s.e(4817),s.e(1664),s.e(7167)]).then(s.bind(s,7167)),{loadableGenerated:{webpack:()=>[7167]}}),i=r()(()=>s.e(9179).then(s.bind(s,9179)),{loadableGenerated:{webpack:()=>[9179]}}),l=r()(()=>s.e(1974).then(s.bind(s,1974)),{loadableGenerated:{webpack:()=>[1974]}}),d=r()(()=>s.e(8547).then(s.bind(s,8547)),{loadableGenerated:{webpack:()=>[8547]}}),b=r()(()=>s.e(6806).then(s.bind(s,6806)),{loadableGenerated:{webpack:()=>[6806]}}),c=r()(()=>Promise.all([s.e(1664),s.e(1465)]).then(s.bind(s,1465)),{loadableGenerated:{webpack:()=>[1465]}});r()(()=>s.e(567).then(s.bind(s,567)),{loadableGenerated:{webpack:()=>[567]}}),r()(()=>Promise.all([s.e(2004),s.e(4139)]).then(s.bind(s,4139)),{loadableGenerated:{webpack:()=>[4139]}});let x=r()(()=>Promise.all([s.e(5507),s.e(7472),s.e(584),s.e(7870)]).then(s.bind(s,7870)),{loadableGenerated:{webpack:()=>[7870]}})}},function(e){e.O(0,[1102,2888,9774,179],function(){return e(e.s=3486)}),_N_E=e.O()}]);