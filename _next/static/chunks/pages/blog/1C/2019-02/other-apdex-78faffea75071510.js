(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4060],{57791:function(e,n,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog/1C/2019-02/other-apdex",function(){return l(43743)}])},43743:function(e,n,l){"use strict";l.r(n);var i=l(85893),s=l(97037);l(67294);var x=l(13803),r=l(46416),d=l(76092),c=l(93218),h=l(44877),j=l(42967),t=l(47168),X=l(78148);n.default=()=>(0,i.jsxs)(s.Xg,{blogcentered:!0,children:[(0,i.jsxs)(s.xv,{textAlign:r.PH.RIGHT,quote:!0,children:["Мы будем жестче! Больше не будет оценок с закрыванием глаз и морганием.",(0,i.jsx)("br",{}),"(с) Михаил Сергеевич Галустян"]}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:'Описание принципа работы подсистемы "Оценка производительности" из БСП, примеров использования, недостатках подсистемы, а также рассуждение о путях улучшения мониторинга производительности в системах 1С.'}),(0,i.jsx)(s.xv,{title:!0,className:"mt-10 md:text",children:"Содержание"}),(0,i.jsxs)(s.aV,{children:[(0,i.jsx)("li",{children:(0,i.jsx)(s.e9,{href:"#on-start",children:(0,i.jsx)("b",{children:(0,i.jsx)("u",{children:"Для начала"})})})}),(0,i.jsx)("li",{children:(0,i.jsx)(s.e9,{href:"#what-is",children:(0,i.jsx)("b",{children:(0,i.jsx)("u",{children:"Что такое APDEX"})})})}),(0,i.jsx)("li",{children:(0,i.jsx)(s.e9,{href:"#std-solution",children:(0,i.jsx)("b",{children:(0,i.jsx)("u",{children:"Решение из БСП"})})})}),(0,i.jsx)("li",{children:(0,i.jsx)(s.e9,{href:"#bad-or-not",children:(0,i.jsx)("b",{children:(0,i.jsx)("u",{children:"Большие и не очень недостатки"})})})}),(0,i.jsx)("li",{children:(0,i.jsx)(s.e9,{href:"#the-end",children:(0,i.jsx)("b",{children:(0,i.jsx)("u",{children:"Неужели все так плохо"})})})})]}),(0,i.jsxs)("section",{id:"section-on-start",children:[(0,i.jsx)(s.xv,{id:"on-start",title:!0,className:"mt-10 md:text",children:"Для начала"}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:'Практически каждое широкораспространенное решение от фирмы "1С" и ее партнеров содержит в себе подсистему "Оценка производительности", которая позволяет выполнять замеры времени длительности операций. На основе собранной статистики можно предоставить относительную оценку производительности отдельной операции или всей системы в целом.'}),(0,i.jsxs)(s.xv,{textAlign:r.PH.JUSTIFY,children:["Казалось бы, что тут дальше рассказывать? Уже было множество публикаций на эту тему, зачем еще одна? Сегодня мы постараемся коснуться основ методики APDEX, а также рассмотрим ее реализацию в БСП. Но самая интересная часть будет в рассмотрении ее слабых сторон и возможных решений. Мы коснемся таких вопросов как:",(0,i.jsxs)(s.aV,{children:[(0,i.jsx)("li",{children:"Почему APDEX никогда не даст реальной картины происходящего в системе."}),(0,i.jsx)("li",{children:"Причины, по которым подобная оценка производительности во многих случаях бесполезна для бизнеса."}),(0,i.jsx)("li",{children:"Есть ли более эффективные пути отслеживания состояния производительности информационных систем."}),(0,i.jsx)("li",{children:'Что делать, если сильно хочется использовать типовую подсистему "Оценка производительности".'}),(0,i.jsx)("li",{children:"Почему замеры времени на стороне 1С лишь вершина айсберга и им нельзя доверять."})]})]}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:"Для ярых сторонников этой подсистемы сразу предупреждаю - все, что будет сказано ниже, лишь мнение автора, и оно может не совпадать с Вашей точкой зрения."}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:"В статью добавлена щепотка юмора и самоиронии. Никого высмеивать целью не ставилось."}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:'Еще раз повторяю - я не враг APDEX и подсистемы "Оценка производительности". Я их хороший друг!'})]}),(0,i.jsxs)("section",{id:"section-what-is",children:[(0,i.jsx)(s.xv,{id:"what-is",title:!0,className:"mt-10 md:text",children:"Что такое APDEX"}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:'По этой теме очень много материала, ведь APDEX - это международный стандарт оценки производительности корпоративных информационных систем. Фирма "1С" рекомендует эту методику. Вопросы по ней есть в экзамене "Эксперт по технологическим вопросам", а подсистема "Оценка производительности" из Библиотеки Стандартных Подсистем (БСП) встроена в большое количество типовых конфигураций.'}),(0,i.jsxs)(s.xv,{textAlign:r.PH.JUSTIFY,children:["Основное преимущество данной методики - это простой результат, который очень легко интерпретировать. Её использование начинается со следующих простых шагов:",(0,i.jsxs)(s.aV,{children:[(0,i.jsxs)("li",{children:["Поскольку APDEX ориентирован на потребности бизнеса, то совместно с ним определяются:",(0,i.jsxs)(s.aV,{children:[(0,i.jsx)("li",{children:"Список критичных бизнес-операций в системе, которые необходимо отслеживать."}),(0,i.jsx)("li",{children:"Приоритет каждой операции"}),(0,i.jsx)("li",{children:"Целевое время отклика по каждой из них"})]})]}),(0,i.jsx)("li",{children:"Старт замеров времени выполнения каждой операции для более полной статистики"}),(0,i.jsx)("li",{children:"Анализ и интерпретация полученных результатов"})]})]}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:'Рассмотрим небольшой пример. Допустим бизнес определил, что операция "Закрытие месяца (перепроведение документов)" является приоритетной, а целевое время установили в 600 секунд. За некоторое время была собрана следующая статистика. Пример упрощенный и с таким количеством статистических замеров трудно говорить о точности расчетов, но для примера самое то.'}),(0,i.jsxs)(d.b,{"aria-label":"Пример данных для APDEX",children:[(0,i.jsxs)(c.J,{children:[(0,i.jsx)(h.j,{children:"Пользователь"},"User"),(0,i.jsx)(h.j,{children:"Номер сеанса 1С"},"SessionId"),(0,i.jsx)(h.j,{children:"Дата записи"},"Period"),(0,i.jsx)(h.j,{children:"Количество операций"},"Records"),(0,i.jsx)(h.j,{children:"Среднее время выполнения (сек.)"},"AvgDuration")]}),(0,i.jsxs)(j.y,{children:[(0,i.jsxs)(t.g,{children:[(0,i.jsx)(X.X,{children:"Главный бухгалтер"}),(0,i.jsx)(X.X,{children:"19"}),(0,i.jsx)(X.X,{children:"15.01.2019 4:29:11"}),(0,i.jsx)(X.X,{children:"1"}),(0,i.jsx)(X.X,{children:"167,42"})]}),(0,i.jsxs)(t.g,{children:[(0,i.jsx)(X.X,{children:"Главный бухгалтер"}),(0,i.jsx)(X.X,{children:"30"}),(0,i.jsx)(X.X,{children:"15.01.2019 6:47:36"}),(0,i.jsx)(X.X,{children:"1"}),(0,i.jsx)(X.X,{children:"3 199,88"})]}),(0,i.jsxs)(t.g,{children:[(0,i.jsx)(X.X,{children:"Главный бухгалтер"}),(0,i.jsx)(X.X,{children:"46"}),(0,i.jsx)(X.X,{children:"15.01.2019 7:44:56"}),(0,i.jsx)(X.X,{children:"1"}),(0,i.jsx)(X.X,{children:"3 362,15"})]}),(0,i.jsxs)(t.g,{children:[(0,i.jsx)(X.X,{children:"Заместитель гл. бухгалтера"}),(0,i.jsx)(X.X,{children:"58"}),(0,i.jsx)(X.X,{children:"15.01.2019 8:40:59"}),(0,i.jsx)(X.X,{children:"1"}),(0,i.jsx)(X.X,{children:"599,16"})]}),(0,i.jsxs)(t.g,{children:[(0,i.jsx)(X.X,{children:"Заместитель гл. бухгалтера"}),(0,i.jsx)(X.X,{children:"61"}),(0,i.jsx)(X.X,{children:"15.01.2019 10:09:57"}),(0,i.jsx)(X.X,{children:"1"}),(0,i.jsx)(X.X,{children:"1 600,18"})]}),(0,i.jsxs)(t.g,{children:[(0,i.jsx)(X.X,{children:"Главный бухгалтер"}),(0,i.jsx)(X.X,{children:"100"}),(0,i.jsx)(X.X,{children:"15.01.2019 12:34:49"}),(0,i.jsx)(X.X,{children:"1"}),(0,i.jsx)(X.X,{children:"160,86"})]}),(0,i.jsxs)(t.g,{children:[(0,i.jsx)(X.X,{children:"Главный бухгалтер"}),(0,i.jsx)(X.X,{children:"36"}),(0,i.jsx)(X.X,{children:"16.01.2019 5:06:22"}),(0,i.jsx)(X.X,{children:"1"}),(0,i.jsx)(X.X,{children:"173,14"})]}),(0,i.jsxs)(t.g,{children:[(0,i.jsx)(X.X,{children:"Главный бухгалтер"}),(0,i.jsx)(X.X,{children:"32"}),(0,i.jsx)(X.X,{children:"23.01.2019 9:51:05"}),(0,i.jsx)(X.X,{children:"1"}),(0,i.jsx)(X.X,{children:"1 981,29"})]}),(0,i.jsxs)(t.g,{children:[(0,i.jsx)(X.X,{children:"Заместитель гл. бухгалтера"}),(0,i.jsx)(X.X,{children:"33"}),(0,i.jsx)(X.X,{children:"05.02.2019 9:21:07"}),(0,i.jsx)(X.X,{children:"1"}),(0,i.jsx)(X.X,{children:"965,88"})]}),(0,i.jsxs)(t.g,{children:[(0,i.jsx)(X.X,{children:"Главный бухгалтер"}),(0,i.jsx)(X.X,{children:"25"}),(0,i.jsx)(X.X,{children:"08.02.2019 8:47:22"}),(0,i.jsx)(X.X,{children:"1"}),(0,i.jsx)(X.X,{children:"2 270,26"})]}),(0,i.jsxs)(t.g,{children:[(0,i.jsx)(X.X,{children:"Разработчик 1С"}),(0,i.jsx)(X.X,{children:"27"}),(0,i.jsx)(X.X,{children:"08.02.2019 10:15:15"}),(0,i.jsx)(X.X,{children:"1"}),(0,i.jsx)(X.X,{children:"2 061,72"})]}),(0,i.jsxs)(t.g,{children:[(0,i.jsx)(X.X,{children:(0,i.jsx)("b",{children:"Итого"})}),(0,i.jsx)(X.X,{children:" "}),(0,i.jsx)(X.X,{children:" "}),(0,i.jsx)(X.X,{children:(0,i.jsx)("b",{children:"11"})}),(0,i.jsx)(X.X,{children:(0,i.jsx)("b",{children:"1 503,81"})})]})]})]}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:"Для расчета индекса производительности используется следующая формула:"}),(0,i.jsxs)(s.xv,{textAlign:r.PH.CENTER,children:[(0,i.jsx)("b",{children:"APDEX = (NS + NT/2)/N"}),", где"]}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:(0,i.jsxs)(s.aV,{children:[(0,i.jsx)("li",{children:"T - целевое время ключевой операции (600 секунд для этого примера)"}),(0,i.jsx)("li",{children:"N – общее количество выполнений операции (по нашим данным их 11)"}),(0,i.jsx)("li",{children:"NS – количество выполнений с временем отклика от 0 до Т (это данные сеансов 1С: 19, 58, 100, 26. Итого 4 замера)"}),(0,i.jsx)("li",{children:"NT – количество выполнений с временем отклика от T до 4T (время выполнения от 600 до 2400, это сеансы 1С: 61, 32, 33, 25, 27. Итого 5 замеров)"})]})}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:"В нашем случае расчет будет таким:"}),(0,i.jsx)(s.xv,{textAlign:r.PH.CENTER,children:(0,i.jsx)("b",{children:"APDEX  = (4 + 5/2)/11 = 0,59"})}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:"Но что это значит? По методике APDEX полученный индекс производительности можно интерпретировать как качественную оценку по следующей шкале."}),(0,i.jsxs)(d.b,{"aria-label":"Пример данных для APDEX",children:[(0,i.jsxs)(c.J,{children:[(0,i.jsx)(h.j,{children:"От"},"From"),(0,i.jsx)(h.j,{children:"До"},"To"),(0,i.jsx)(h.j,{children:"Оценка"},"Mark")]}),(0,i.jsxs)(j.y,{children:[(0,i.jsxs)(t.g,{style:{background:"#bfbfbf"},children:[(0,i.jsx)(X.X,{children:"0.00"}),(0,i.jsx)(X.X,{children:"0.50"}),(0,i.jsx)(X.X,{children:(0,i.jsx)("b",{children:"неприемлемо"})})]}),(0,i.jsxs)(t.g,{style:{background:"#f8cbad"},children:[(0,i.jsx)(X.X,{children:"0.50"}),(0,i.jsx)(X.X,{children:"0.70"}),(0,i.jsx)(X.X,{children:(0,i.jsx)("b",{children:"очень плохо"})})]}),(0,i.jsxs)(t.g,{style:{background:"#ffe699"},children:[(0,i.jsx)(X.X,{children:"0.70"}),(0,i.jsx)(X.X,{children:"0.85"}),(0,i.jsx)(X.X,{children:(0,i.jsx)("b",{children:"плохо"})})]}),(0,i.jsxs)(t.g,{style:{background:"#c6e0b4"},children:[(0,i.jsx)(X.X,{children:"0.85"}),(0,i.jsx)(X.X,{children:"0.94"}),(0,i.jsx)(X.X,{children:(0,i.jsx)("b",{children:"хорошо"})})]}),(0,i.jsxs)(t.g,{style:{background:"#ddebf7"},children:[(0,i.jsx)(X.X,{children:"0.94"}),(0,i.jsx)(X.X,{children:"1.00"}),(0,i.jsx)(X.X,{children:(0,i.jsx)("b",{children:"отлично"})})]})]})]}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:'Полученный индекс 0.59 говорит об очень плохом уровне производительности для операции "Закрытие месяца (перепроведение документов)". Пора предложить клиенту услуги по оптимизации! Почему именно эта операция является столь критичной? Бизнес так решил, ему виднее!'}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:"Пример очень простой, даже примитивный. Но он должен показать основу расчета индекса производительности APDEX."}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:'Что ж, пока все выглядит отлично. Мы собрали статистику времени выполнения ключевых операций, рассчитали индекс производительности и продемонстрировали результаты заказчику. Клиент "кивает" и дает добро на работы по оптимизации производительности.'}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:"Возможно, даже в договоре в качестве результатов работ по оптимизации зафиксировано не целевое время, а индекс производительности APDEX!"}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:"Пройдемте дальше."})]}),(0,i.jsxs)("section",{id:"section-std-solution",children:[(0,i.jsx)(s.xv,{id:"std-solution",title:!0,className:"mt-10 md:text",children:"Решение из БСП"}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:'Теперь рассмотрим более приземленную тему - как это реализовано в конфигурации? Мы будем рассматривать подсистему "Оценка производительности" из БСП версии 3.0. Данная версия может значительно отличаться от своих предшественников, но т.к. она включается в новые релизы конфигураций свой выбор остановим именно на ней. Тем более принцип ее работы не менялся уже многие годы.'}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:'Первое, что мы сделаем - установим в конфигураторе отбор по подсистеме "СтандартныеПодсистемы.ОценкаПроизводительности". Перед нами предстанет примерно такая картина.'}),(0,i.jsx)(s.Ee,{className:"my-4",src:"/public/imp_assets/1C/2019-02/other-apdex/1. Стандартное решение.png",alt:"Стандартное решение",size:r.h2.MEDIUM}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:'Уоу! Так много объектов, но не теряйтесь! В первую очередь посмотрите на перечисление "УровниПроизводительности", значения которого совпадают с общей логикой распределения значений индекса производительности APDEX (см. таблицу выше). В справочнике "Ключевые операции" хранится список операций и их настройки (Имя операции, приоритет в виде числа, целевое время ключевой операции в секундах и некоторые другие характеристики), то есть все то, что необходимо для расчета этого индекса.'}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:'С недавних (или почти недавних) пор появилось разделение замеров времени на технологические и обычные (если так можно выразиться). Технологические - это те ключевые операции, которые явно не относятся к бизнесу. Например, к последним можно отнести замеры различных обработчиков обновления при "накатке" релизов и другие служебные операции. Обычные ключевые операции - это как-раз то, что нам нужно, так как относится к работе бизнеса. Это то, что нам следует замерять и анализировать.'}),(0,i.jsxs)(s.xv,{textAlign:r.PH.JUSTIFY,children:['В регистре сведений "Замеры времени" хранится вся статистики времени выполнения в разрезе ключевых операций, даты начала сеанса и начала часа. В ресурсах регистра находятся результаты замера:',(0,i.jsxs)(s.aV,{children:[(0,i.jsx)("li",{children:'"ВремяВыполнения" - длительность операции в секундах.'}),(0,i.jsx)("li",{children:'"ВесЗамера" - количественный показатель замера. Например, для документа это может быть количество строк в табличной части.'}),(0,i.jsx)("li",{children:'"Комментарий" - любая вспомогательная информация в виде текста.'})]})]}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:"В реквизитах другая вспомогательная информация. И так, структуру мы в общих чертах описали, но как это работает на практике?"}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:"Есть два вида замера - те, которые выполняются только на сервере, а также те, которые выполняются на клиенте (при этом могут включать время вызова серверного кода). Пример замера только на сервере очень простой."}),(0,i.jsx)(x.Z,{code:'\n// Фиксируем время начала операции\nВесЗамера = 1;\nИмяОперации = "ПримерЗамераНаСервере";\nВремяНачалаОперации = ОценкаПроизводительности.НачатьЗамерВремени();\n	\n// Делаем что-то невообразимо тяжелое\nОченьТяжелаяОперацияНаСервере();\n	\n// Фиксируем результат замера\nОценкаПроизводительности.ЗакончитьЗамерВремени(\n	ИмяОперации, \n	ВремяНачалаОперации, \n	ВесЗамера,\n	"Просто сделаем замер");\n                    ',className:"my-5",language:"bsl"}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:'После этого в регистре "Замеры времени" сразу же появится запись о времени выполнения операции.'}),(0,i.jsx)(s.Ee,{className:"my-4",src:"/public/imp_assets/1C/2019-02/other-apdex/2. Замер времени.png",alt:"Замер времени",size:r.h2.MEDIUM}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:'В справочнике "Ключевые операции" автоматически добавится новый элемент справочника.'}),(0,i.jsx)(s.Ee,{className:"my-4",src:"/public/imp_assets/1C/2019-02/other-apdex/3. Замер времени.png",alt:"Замер времени",size:r.h2.MEDIUM}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:"При этом вручную ее создавать не пришлось, система сделала все за нас. Останется только скорректировать приоритет, целевое время и допустимый уровень производительности, чтобы в дальнейшем посчитать APDEX. На сбор самой статистики эти параметры никак не влияют."}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:'Что касается замеров на клиенте, то главной особенностью является механизм фиксации результата. Все результаты замеров сохраняются на стороне сервера, ведь клиент не может записать данные в регистр сведений. Тут и возникает главная сложность: если каждый раз для записи замера обращаться к серверу, то это создаст повышенную нагрузку на сеть, появятся "подтормаживания" клиентского приложения в момент передачи данных. Поэтому в БСП сохранение результатов замера на клиенте выполняется асинхронно (ну почти асинхронно). В течении некоторого времени приложение накапливает на клиенте результаты замеров, а после запускает отправку сразу всей собранной статистики одним вызовом. Вот пример замера на клиенте.'}),(0,i.jsx)(x.Z,{code:'\nВесЗамера = 1;\nИмяОперации = "ПримерЗамераНаКлиенте";\n// Включаем отложенную запись результатов замера\n// Если передать "Ложь", то результаты замеров нужно\n// будет фиксировать самостоятельно\nАвтоЗавершение = Истина;\nВремяНачалаОперации = ОценкаПроизводительностиКлиент.НачатьЗамерВремени(АвтоЗавершение, ИмяОперации);\n\n// Нагружаем клиентскую машину, экономим ресурсы сервера :)\nОченьТяжелаяОперацияНаКлиенте();\n\n// Можно завершить замер тут, но оставим эту работу БСП\n//ОценкаПроизводительности.ЗакончитьЗамерВремени(\n//	ИмяОперации, \n//	ВремяНачалаОперации, \n//	ВесЗамера, \n//	"Пример замера на клиенте");\n                    ',className:"my-5",language:"bsl"}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:'Проходит некоторое время и результат попадает в регистр "Замеры времени". Интервал обработки порций замеров указывается в константе "ОценкаПроизводительностиПериодЗаписи" в секундах. Асинхронная обработка выполняется через глобальный обработчик ожидания, инициализированный в модуле управляемого приложения еще на стадии запуска. Пример тяжелой операции также приведен ниже.'}),(0,i.jsx)(x.Z,{code:"\n&НаКлиентеНаСервереБезКонтекста\nПроцедура Ожидание(КоличествоСекунд)\n	\n	ОжидатьДо = ТекущаяДата() + КоличествоСекунд;\n	Пока ТекущаяДата() <= ОжидатьДо Цикл\n		// Ничего не делаем и просто используем CPU впустую\n		// !!! Только на рабочей базе не используйте.\n	КонецЦикла;\n	\nКонецПроцедуры\n\n&НаКлиенте\nПроцедура ОченьТяжелаяОперацияНаКлиенте()\n	\n	Ожидание(10);\n	\nКонецПроцедуры\n\n&НаСервере\nПроцедура ОченьТяжелаяОперацияНаСервере()\n	\n	Ожидание(10);\n	\nКонецПроцедуры\n                    ",className:"my-5",language:"bsl"}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:"В типовых конфигурация начальный список ключевых операций достаточно большой - открытие различных форм, проведение документов и запись справочника, и многое многое другое. На скриншоте ниже показан пример анализа результатов замера, где рассчитано среднее время выполнения каждой ключевой операции и индекс производительности APDEX."}),(0,i.jsx)(s.Ee,{className:"my-4",src:"/public/imp_assets/1C/2019-02/other-apdex/4. Отчет APDEX.png",alt:"Отчет APDEX",size:r.h2.MEDIUM}),(0,i.jsxs)(s.xv,{textAlign:r.PH.JUSTIFY,children:["Посмотрите внимательно и ответьте честно: Вы можете уверено сказать, все ли в порядке с производительностью в этой информационной базе? ",":)"," Отчет выше это ",(0,i.jsx)(s.e9,{newTab:!0,href:"https://github.com/YPermitin/YPermitin.YellowCollection/tree/main/%D0%90%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7%D0%97%D0%B0%D0%BC%D0%B5%D1%80%D0%BE%D0%B2%D0%9F%D1%80%D0%BE%D0%B8%D0%B7%D0%B2%D0%BE%D0%B4%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE%D1%81%D1%82%D0%B8",children:(0,i.jsx)("b",{children:(0,i.jsx)("u",{children:"Анализ замеров производительности"})})}),"."]}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:'Подсистема "Оценка производительности" имеет другие интересные возможности, такие как отправка данных во внешние сервисы, отчеты для анализа замеров и просмотра показателей APDEX и другое, но это уже другая история. Все что было описано здесь это минимум, чтобы идти дальше.'}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:"И так, мы рассмотрели что такое APDEX, как сбор замеров ведется в типовых конфигурациях, как рассчитывается и анализируется. Добавим теперь несколько ложек дегтя в типовые механизмы мониторинга производительности."}),(0,i.jsxs)(s.xv,{textAlign:r.PH.JUSTIFY,children:["Основное преимущество данной методики - это простой результат, который очень легко интерпретировать. Её использование начинается со следующих простых шагов:",(0,i.jsxs)(s.aV,{children:[(0,i.jsxs)("li",{children:["Поскольку APDEX ориентирован на потребности бизнеса, то совместно с ним определяются:",(0,i.jsxs)(s.aV,{children:[(0,i.jsx)("li",{children:"Список критичных бизнес-операций в системе, которые необходимо отслеживать."}),(0,i.jsx)("li",{children:"Приоритет каждой операции"}),(0,i.jsx)("li",{children:"Целевое время отклика по каждой из них"})]})]}),(0,i.jsx)("li",{children:"Старт замеров времени выполнения каждой операции для более полной статистики"}),(0,i.jsx)("li",{children:"Анализ и интерпретация полученных результатов"})]})]}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:'Рассмотрим небольшой пример. Допустим бизнес определил, что операция "Закрытие месяца (перепроведение документов)" является приоритетной, а целевое время установили в 600 секунд. За некоторое время была собрана следующая статистика. Пример упрощенный и с таким количеством статистических замеров трудно говорить о точности расчетов, но для примера самое то.'}),(0,i.jsxs)(d.b,{"aria-label":"Пример данных для APDEX",children:[(0,i.jsxs)(c.J,{children:[(0,i.jsx)(h.j,{children:"Пользователь"},"User"),(0,i.jsx)(h.j,{children:"Номер сеанса 1С"},"SessionId"),(0,i.jsx)(h.j,{children:"Дата записи"},"Period"),(0,i.jsx)(h.j,{children:"Количество операций"},"Records"),(0,i.jsx)(h.j,{children:"Среднее время выполнения (сек.)"},"AvgDuration")]}),(0,i.jsxs)(j.y,{children:[(0,i.jsxs)(t.g,{children:[(0,i.jsx)(X.X,{children:"Главный бухгалтер"}),(0,i.jsx)(X.X,{children:"19"}),(0,i.jsx)(X.X,{children:"15.01.2019 4:29:11"}),(0,i.jsx)(X.X,{children:"1"}),(0,i.jsx)(X.X,{children:"167,42"})]}),(0,i.jsxs)(t.g,{children:[(0,i.jsx)(X.X,{children:"Главный бухгалтер"}),(0,i.jsx)(X.X,{children:"30"}),(0,i.jsx)(X.X,{children:"15.01.2019 6:47:36"}),(0,i.jsx)(X.X,{children:"1"}),(0,i.jsx)(X.X,{children:"3 199,88"})]}),(0,i.jsxs)(t.g,{children:[(0,i.jsx)(X.X,{children:"Главный бухгалтер"}),(0,i.jsx)(X.X,{children:"46"}),(0,i.jsx)(X.X,{children:"15.01.2019 7:44:56"}),(0,i.jsx)(X.X,{children:"1"}),(0,i.jsx)(X.X,{children:"3 362,15"})]}),(0,i.jsxs)(t.g,{children:[(0,i.jsx)(X.X,{children:"Заместитель гл. бухгалтера"}),(0,i.jsx)(X.X,{children:"58"}),(0,i.jsx)(X.X,{children:"15.01.2019 8:40:59"}),(0,i.jsx)(X.X,{children:"1"}),(0,i.jsx)(X.X,{children:"599,16"})]}),(0,i.jsxs)(t.g,{children:[(0,i.jsx)(X.X,{children:"Заместитель гл. бухгалтера"}),(0,i.jsx)(X.X,{children:"61"}),(0,i.jsx)(X.X,{children:"15.01.2019 10:09:57"}),(0,i.jsx)(X.X,{children:"1"}),(0,i.jsx)(X.X,{children:"1 600,18"})]}),(0,i.jsxs)(t.g,{children:[(0,i.jsx)(X.X,{children:"Главный бухгалтер"}),(0,i.jsx)(X.X,{children:"100"}),(0,i.jsx)(X.X,{children:"15.01.2019 12:34:49"}),(0,i.jsx)(X.X,{children:"1"}),(0,i.jsx)(X.X,{children:"160,86"})]}),(0,i.jsxs)(t.g,{children:[(0,i.jsx)(X.X,{children:"Главный бухгалтер"}),(0,i.jsx)(X.X,{children:"36"}),(0,i.jsx)(X.X,{children:"16.01.2019 5:06:22"}),(0,i.jsx)(X.X,{children:"1"}),(0,i.jsx)(X.X,{children:"173,14"})]}),(0,i.jsxs)(t.g,{children:[(0,i.jsx)(X.X,{children:"Главный бухгалтер"}),(0,i.jsx)(X.X,{children:"32"}),(0,i.jsx)(X.X,{children:"23.01.2019 9:51:05"}),(0,i.jsx)(X.X,{children:"1"}),(0,i.jsx)(X.X,{children:"1 981,29"})]}),(0,i.jsxs)(t.g,{children:[(0,i.jsx)(X.X,{children:"Заместитель гл. бухгалтера"}),(0,i.jsx)(X.X,{children:"33"}),(0,i.jsx)(X.X,{children:"05.02.2019 9:21:07"}),(0,i.jsx)(X.X,{children:"1"}),(0,i.jsx)(X.X,{children:"965,88"})]}),(0,i.jsxs)(t.g,{children:[(0,i.jsx)(X.X,{children:"Главный бухгалтер"}),(0,i.jsx)(X.X,{children:"25"}),(0,i.jsx)(X.X,{children:"08.02.2019 8:47:22"}),(0,i.jsx)(X.X,{children:"1"}),(0,i.jsx)(X.X,{children:"2 270,26"})]}),(0,i.jsxs)(t.g,{children:[(0,i.jsx)(X.X,{children:"Разработчик 1С"}),(0,i.jsx)(X.X,{children:"27"}),(0,i.jsx)(X.X,{children:"08.02.2019 10:15:15"}),(0,i.jsx)(X.X,{children:"1"}),(0,i.jsx)(X.X,{children:"2 061,72"})]}),(0,i.jsxs)(t.g,{children:[(0,i.jsx)(X.X,{children:(0,i.jsx)("b",{children:"Итого"})}),(0,i.jsx)(X.X,{children:" "}),(0,i.jsx)(X.X,{children:" "}),(0,i.jsx)(X.X,{children:(0,i.jsx)("b",{children:"11"})}),(0,i.jsx)(X.X,{children:(0,i.jsx)("b",{children:"1 503,81"})})]})]})]}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:"Для расчета индекса производительности используется следующая формула:"}),(0,i.jsxs)(s.xv,{textAlign:r.PH.CENTER,children:[(0,i.jsx)("b",{children:"APDEX = (NS + NT/2)/N"}),", где"]}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:(0,i.jsxs)(s.aV,{children:[(0,i.jsx)("li",{children:"T - целевое время ключевой операции (600 секунд для этого примера)"}),(0,i.jsx)("li",{children:"N – общее количество выполнений операции (по нашим данным их 11)"}),(0,i.jsx)("li",{children:"NS – количество выполнений с временем отклика от 0 до Т (это данные сеансов 1С: 19, 58, 100, 26. Итого 4 замера)"}),(0,i.jsx)("li",{children:"NT – количество выполнений с временем отклика от T до 4T (время выполнения от 600 до 2400, это сеансы 1С: 61, 32, 33, 25, 27. Итого 5 замеров)"})]})}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:"В нашем случае расчет будет таким:"}),(0,i.jsx)(s.xv,{textAlign:r.PH.CENTER,children:(0,i.jsx)("b",{children:"APDEX  = (4 + 5/2)/11 = 0,59"})}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:"Но что это значит? По методике APDEX полученный индекс производительности можно интерпретировать как качественную оценку по следующей шкале."}),(0,i.jsxs)(d.b,{"aria-label":"Пример данных для APDEX",children:[(0,i.jsxs)(c.J,{children:[(0,i.jsx)(h.j,{children:"От"},"From"),(0,i.jsx)(h.j,{children:"До"},"To"),(0,i.jsx)(h.j,{children:"Оценка"},"Mark")]}),(0,i.jsxs)(j.y,{children:[(0,i.jsxs)(t.g,{style:{background:"#bfbfbf"},children:[(0,i.jsx)(X.X,{children:"0.00"}),(0,i.jsx)(X.X,{children:"0.50"}),(0,i.jsx)(X.X,{children:(0,i.jsx)("b",{children:"неприемлемо"})})]}),(0,i.jsxs)(t.g,{style:{background:"#f8cbad"},children:[(0,i.jsx)(X.X,{children:"0.50"}),(0,i.jsx)(X.X,{children:"0.70"}),(0,i.jsx)(X.X,{children:(0,i.jsx)("b",{children:"очень плохо"})})]}),(0,i.jsxs)(t.g,{style:{background:"#ffe699"},children:[(0,i.jsx)(X.X,{children:"0.70"}),(0,i.jsx)(X.X,{children:"0.85"}),(0,i.jsx)(X.X,{children:(0,i.jsx)("b",{children:"плохо"})})]}),(0,i.jsxs)(t.g,{style:{background:"#c6e0b4"},children:[(0,i.jsx)(X.X,{children:"0.85"}),(0,i.jsx)(X.X,{children:"0.94"}),(0,i.jsx)(X.X,{children:(0,i.jsx)("b",{children:"хорошо"})})]}),(0,i.jsxs)(t.g,{style:{background:"#ddebf7"},children:[(0,i.jsx)(X.X,{children:"0.94"}),(0,i.jsx)(X.X,{children:"1.00"}),(0,i.jsx)(X.X,{children:(0,i.jsx)("b",{children:"отлично"})})]})]})]}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:'Полученный индекс 0.59 говорит об очень плохом уровне производительности для операции "Закрытие месяца (перепроведение документов)". Пора предложить клиенту услуги по оптимизации! Почему именно эта операция является столь критичной? Бизнес так решил, ему виднее!'}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:"Пример очень простой, даже примитивный. Но он должен показать основу расчета индекса производительности APDEX."}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:'Что ж, пока все выглядит отлично. Мы собрали статистику времени выполнения ключевых операций, рассчитали индекс производительности и продемонстрировали результаты заказчику. Клиент "кивает" и дает добро на работы по оптимизации производительности.'}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:"Возможно, даже в договоре в качестве результатов работ по оптимизации зафиксировано не целевое время, а индекс производительности APDEX!"}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:"Пройдемте дальше."})]}),(0,i.jsxs)("section",{id:"section-bad-or-not",children:[(0,i.jsx)(s.xv,{id:"bad-or-not",title:!0,className:"mt-10 md:text",children:"Большие и не очень недостатки"}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:'Несмотря на столь интересный функционал по замерам времени выполнения операций, сам подход по использованию APDEX имеет серьезные недостатки. А техническая реализация подсистемы "Оценка производительности" в БСП имеет ряд проблем, которые потенциально могут сильно исказить собираемую статистику. Далее пройдемся по проблемным местам, вдруг что можно придумать.'}),(0,i.jsxs)(s.xv,{textAlign:r.PH.JUSTIFY,children:[(0,i.jsx)("b",{children:(0,i.jsx)("u",{children:"Организационные проблемы"})}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:"Как было сказано ранее, APDEX ориентируется именно на бизнес. Это означает, что ключевые операции, для которых необходимо проводить замеры производительности, определяются бизнесом, целевое время для них устанавливается бизнесом, приоритет каждой операции также устанавливается бизнесом. (бизнес, бизнес, бизнес....)."}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:'На практике же все происходит иначе. Когда встает вопрос составления перечня ключевых операций обычно менеджеры ИТ-проектов или технические специалисты предлагают уже готовый перечень этих самых операций. Со стороны клиента лишь остается определить приоритеты и целевое время, но и тут не все так радужно. Частый ответ на вопрос "Какое целевое время установим для этой ключевой операции?" это "Как можно скорее!". И тут снова начинается игра в "подгони целевое время под текущее" с тем смыслом, чтобы можно было оптимизировать операцию без больших трудозатрат и при этом еще и заказчик будет доволен.'}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:'Приоритеты устанавливаются еще интереснее. Если список ключевых операций длинный, то обычно внимание акцентируется на первых 5-10 операциях, а дальше уже как получится. Во многих случаях приоритет ключевой операции - это что нужно оптимизировать в первую очередь, что "болит" и нужно исправить еще вчера. В такой обстановке настоящий приоритет устанавливается на первых нескольких операциях, а все остальное по остаточному принципу.'}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:"В самом лучшем случае от заказчика может выступать ответственное лицо из ИТ-отдела, у которого есть представление о текущих проблемах И если повезет, то определение операций для мониторинга и их параметров может быть сделано достаточно эффективно. Вот только в конце проекта может оказаться, что бизнесу было нужно оптимизировать совсем другое."}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:"Конечно, это описаны самые непростые ситуации и в большинстве случаев стороны успешно договариваются. Но, в любом случае, смысл расчета APDEX теряется, ведь становится проще составить список ключевых операций для заказчика по его жалобам, а потом определить с ним целевое время для них исходя из текущей ситуации в системе и ... бюджета."}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:'В этом свете APDEX - это лишь маркетинг, чтобы лучше продавать услуги по оптимизации или рекламировать высокопроизводительные информационные системы с лозунгом "Средний APDEX выше 0.75 на всех проектах!". По мне лучше убрать всю эту "мишуру" и вернуться к замерам в старых добрых секундах с мониторингом динамики изменения показателей.'})]}),(0,i.jsxs)(s.xv,{textAlign:r.PH.JUSTIFY,children:[(0,i.jsx)("b",{children:(0,i.jsx)("u",{children:"Слишком много допущений"})}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:"Что значит индекс производительности APDEX равный 0.75 или 0.44? Значит он только одно - субъективное мнение пользователей системы о качестве ее работы. Конечно, пользователям не важно что именно в системе сломалось, важен конечный результат. Но мониторинг важен для ИТ-службы!"}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:"Почему индекс стал 0.44? Тормозит сеть? В новом релизе сделали неоптимальный запрос и положили базу? Или может так и должно работать и это просто тяжелая операция? А может пользователь просто случайно указал период в отчете 10 лет вместо недели и ожидал быстрого формирования?"}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:"APDEX не дает ответом что именно в информационной системе происходит, какие операции работают медленно, а какие быстро. Он просто отражает субъективное мнение бизнеса и не более того. Да, он может быть пунктом в договоре об оказании услуг или каким-то образом отражен в SLA, но решить какие-то конкретные проблемы он не сможет."})]}),(0,i.jsxs)(s.xv,{textAlign:r.PH.JUSTIFY,children:[(0,i.jsx)("b",{children:(0,i.jsx)("u",{children:"APDEX не учитывает динамику"})}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:'Требования бизнеса меняются и это нормально. Но сформированный список ключевых операций и их параметры зачастую не поспевают за этими изменениями, ведь не сразу понятно как должен измениться приоритет и целевое время. Бизнес еще не знает, ведь он на стадии изменений. Можно поставить через "экспертное" мнение, но к чему это приведет? Скорее всего к тому, что спустя время все ключевые операции все равно нужно будет пересматривать.'}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:"Таким образом, APDEX не может выступать в качестве метода мониторинга меняющейся системы, т.к. не будет поспевать за этими изменениями. А если нет актуальных данных, то зачем его использовать?"})]}),(0,i.jsxs)(s.xv,{textAlign:r.PH.JUSTIFY,children:[(0,i.jsx)("b",{children:(0,i.jsx)("u",{children:"Большие погрешности в измерениях"})}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:"Формулу расчета мы уже видели. Напомню, что индекс производительности APDEX рассчитывается как соотношение количества операций с приемлемой скоростью к общему количеству операций. Приемлемыми операциями выступают все те что выполнились с целевой скоростью, а также плюс половина операций, которая выполнилась меньше чем за время, в 4 раза превышающее целевое. Так отбрасываются аномальные замеры операций, длительность которых значительно отличаются. А это уже может сильно исказить результат."}),(0,i.jsxs)(s.xv,{textAlign:r.PH.JUSTIFY,children:["Например, Вы розничная компания с десятками филиалов по всей стране. В каждом регионе у вас несколько филиалов и для контроля работы системы Вы анализирует показатели APDEX по регионам. В одном регионе 5 филиалов, на одном из которых, допустим, проблемы с сетью. Рассчитывая индекс производительности может оказаться так, что как-раз эти аномалии в одном из филиалов будут отброшены и Вы получите хороший показатель. Чего этот филиал так жалуются, работать не хотят? ",":)"]}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:"Также для редких операций, например, закрытие месяца, считать APDEX вообщем-то бессмысленно, т.к. данных будет очень мало. Разве что считать за 10 лет, но есть ли в этом смысл?"}),(0,i.jsxs)(s.xv,{textAlign:r.PH.JUSTIFY,children:['Ситуация усугубляется еще и подсистемой "Оценка производительности" из конфигураций 1С из-за некоторых технических особенностей:',(0,i.jsxs)(s.aV,{type:r.RH.number,children:[(0,i.jsx)("li",{children:"При возникновении ошибки во время замера на сервере его результат не будет зафиксирован."}),(0,i.jsxs)("li",{children:["При замерах на клиенте, если включено автоматическое завершение замера, могут быть интересные ситуации:",(0,i.jsxs)(s.aV,{children:[(0,i.jsx)("li",{children:"После начала замера появилось модальное окно и пока оно не будет закрыто, замер не будет завершен."}),(0,i.jsx)("li",{children:"Замер стартует перед проведением документа на клиенте. Если во время проведения возникла ошибка, то замер будет остановлен после закрытия ошибки пользователем. А это может быть +5000 к длительности операции!"}),(0,i.jsx)("li",{children:'Замер не включает в себя никакой дополнительной информации о замере, то есть не будет понятно где операция больше всего выполнялась. А это могло бы помочь определить узкое место - слабый компьютер у сотрудника, сеть "тормозит" или на сервере баз данных что-то пошло не так.'})]})]})]})]}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:"Вот пример кода, когда замер производительности покажет неадекватное время выполнения операции."}),(0,i.jsx)(x.Z,{code:'\nВесЗамера = 1;\nИмяОперации = "ПримерЗамераНаКлиенте";\n	\nАвтоЗавершение = Истина;\nВремяНачалаОперации = ОценкаПроизводительностиКлиент.НачатьЗамерВремени(АвтоЗавершение, ИмяОперации);\n	\n// Нагружаем клиентскую машину, экономим ресурсы сервера :)\nОченьТяжелаяОперацияНаКлиенте();\n	\n// Пока пользователь не закроет окно об ошибке\n// система будет считать, что замер времени выполнения продолжается.\nВызватьИсключение "И пусть весь Мир подождет!";\n                    ',className:"my-5",language:"bsl"}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:'"Но ошибка это исключительная ситуация" - обычно так отвечают на это. Да, это так, но ошибки случаются у всех и предсказать много их будет или мало нельзя. Так можно ли доверять статистике замеров?'})]}),(0,i.jsxs)(s.xv,{textAlign:r.PH.JUSTIFY,children:[(0,i.jsx)("b",{children:(0,i.jsx)("u",{children:"Потерянные замеры"})}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:"На самом деле этот пункт тесно связан с предыдущим. Кратко - могут быть ситуации, когда клиент за минуту накопил множество данных по замерам (выполнялось в фоне несколько отчетов, открывал карточки справочников и т.д.), но внезапно произошла ошибка платформы с последующим вылетом, выключили свет и т.д. В этом случае замеры не успеют передаться на сервер для сохранения и будут потеряны."}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:"В итоге могут быть неполноценные данные по замерам ключевых операций. Конечно, свет отключается не каждый день, а вот ошибки платформы с вылетами клиентского приложения иногда можно встретить часто."})]}),(0,i.jsxs)(s.xv,{textAlign:r.PH.JUSTIFY,children:[(0,i.jsx)("b",{children:(0,i.jsx)("u",{children:"Влияние на производительность и обслуживание"})}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:"Да, Вы не ослышались! Контроль производительности с помощью замеров влияет на производительность!"}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:'Чем больше ключевых операций и чем чаще они выполняются, тем "тяжелее" будет таблица регистра сведений со статистикой замеров. На практике был случай, когда количество записей в регистре сведений "Замеры времени" оказалось больше, чем в каждой отдельной таблице этой базы. Соответственно, для хранения истории замеров понадобится свободно место на дисках и иногда не маленькое.'}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:"Также такие большие таблицы могут повлиять на время обслуживания индексов и статистик. Количество изменяемых записей в таблицах с замерами может быть очень большим, соответственно, и время перестроения индексов или обслуживания статистики может выходить за рамки технологического окна. Конечно, можно исключить эти таблицы из обслуживания, пока это возможно."}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:'Ну и стоит упомянуть, что если фиксация результата замера выполняется сразу же, то операция записи в регистр сведений все же может увеличить время выполнения операции. Конечно, это может показаться несущественным  - 0.05 секунды на запись результатов замера. Но если операций 1000, десятки или сотни тысяч. Тут уже может оказаться, что подсистема "Оценка производительности" Вам не подходит.'})]}),(0,i.jsxs)(s.xv,{textAlign:r.PH.JUSTIFY,children:[(0,i.jsx)("b",{children:(0,i.jsx)("u",{children:"Сложность интеграции"})}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:'Ну и последний недостаток - это необходимые трудозатраты на интеграцию подсистемы "Оценка производительности" в существующие или новые решения на базе 1С. Речь идет даже не о внедрении подсистемы в конфигурацию, а о необходимых работах, если появилась необходимость добавить еще ключевые операции для замеров.'}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:"Для этого нужно вносить изменения в саму конфигурацию, снимать с поддержки, обслуживать и следить за работоспособностью новых операций, т.к. при обновлении подсистема из БСП может быть обновлена."}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:"То есть нельзя просто так взять и добавить ключевую операцию для замера, нужно потратить время (или деньги заказчика)."})]})]}),(0,i.jsxs)("section",{id:"section-the-end",children:[(0,i.jsx)(s.xv,{id:"the-end",title:!0,className:"mt-10 md:text",children:"Неужели все так плохо"}),(0,i.jsxs)(s.xv,{textAlign:r.PH.JUSTIFY,children:["Все просто, я лишь хотел донести эти мысли:",(0,i.jsxs)(s.aV,{children:[(0,i.jsx)("li",{children:"APDEX - это лишь вершина айсберга, с помощью которой можно в красочном виде предоставить бизнесу информацию о состоянии системы, но при этом ничего не объясняя (ну или почти не объясняя)."}),(0,i.jsx)("li",{children:"APDEX может выступать в качестве маркетинговой составляющей при оказании услуг оптимизации производительности или продаже какого-либо продукта."}),(0,i.jsxs)("li",{children:['Подсистема "Оценка производительности" из состава БСП полезна для сбора статистики выполнения операций, но имеет ряд существенных недостатков:',(0,i.jsxs)(s.aV,{children:[(0,i.jsx)("li",{children:"Потенциально большие погрешности в замерах"}),(0,i.jsx)("li",{children:"Потеря данных о замерах производительности"}),(0,i.jsx)("li",{children:"Влияние на производительность и операции обслуживания базы данных"}),(0,i.jsx)("li",{children:"Дополнительные требования к дисковому пространству или к очистке устаревших данных (такая возможность есть в подсистеме с помощью регл. задания)."}),(0,i.jsx)("li",{children:"Необходимость в дополнительных трудозатратах для добавления новых ключевых операций и сопровождения связанных с этим изменений."})]})]}),(0,i.jsx)("li",{children:"Для контроля производительности и стабильности системы APDEX'а и замеров в БСП недостаточно, нужен полноценный мониторинг инфраструктуры, СУБД, сервера 1С, клиентских машин пользователей и других составляющих."}),(0,i.jsx)("li",{children:"Производительность нужно измерять в конкретных цифрах и с учетом динамики изменений, а не в попугаях."})]})]}),(0,i.jsx)(s.xv,{textAlign:r.PH.JUSTIFY,children:"На этом все, спасибо что дочитали! Отличного Вам дня и стабильного рабочего окружения!"})]})]})},12250:function(e,n,l){"use strict";var i,s;l.d(n,{b:function(){return i}}),(s=i||(i={})).Min="350px",s.Standard="700px",s.Large="1000x",s.Unlimited=""},13803:function(e,n,l){"use strict";var i=l(37340),s=l(85893),x=l(67294),r=l(14965),d=l(54951),c=l(41686),h=l(12250);function j(){let e=(0,i._)(["\n        text-align: left;\n        overflow: hidden;\n        font-size: 14px;\n        border-radius: 6px;\n        overflow: auto;\n\n        & .token-line {\n            line-height: 1.3em;\n            height: 1.3em;\n        }\n    "]);return j=function(){return e},e}function t(){let e=(0,i._)(["\n        max-height: ","\n    "]);return t=function(){return e},e}n.Z=e=>{let{code:n,className:i,language:X,maxHeight:a=h.b.Standard}=e;(void 0!==l.g?l.g:window).Prism=r.p1,l(61354),l(79016),l(2731),l(35266),l(92927),l(51315),l(57874),l(86862);let g=null!=a?a:h.b.Standard,P=c.ZP.pre(j()),A=(0,c.ZP)(P)(t(),g);return(0,s.jsx)("div",{className:(0,d.GF)("bg-blue-500 md:p-1 p-2",i),children:(0,s.jsx)("div",{className:"shadow-lg",children:(0,s.jsx)(r.y$,{theme:r.np.vsDark,code:n.trim(),language:null!=X?X:X="tsx",children:e=>{let{className:n,style:l,tokens:i,getLineProps:r,getTokenProps:d}=e;return(0,s.jsx)(A,{className:n,style:l,children:i.map((e,n)=>(0,x.createElement)("div",{...r({line:e,key:n}),key:Math.random()},e.map((e,n)=>(0,x.createElement)("span",{...d({token:e,key:n}),key:Math.random()}))))})}})})})}},97037:function(e,n,l){"use strict";l.d(n,{Ee:function(){return d},Xg:function(){return x},Y7:function(){return t},aV:function(){return h},e9:function(){return j},o_:function(){return X},tf:function(){return a},ty:function(){return c},xv:function(){return r}});var i=l(5152),s=l.n(i);let x=s()(()=>Promise.all([l.e(549),l.e(4738),l.e(4838),l.e(1664),l.e(1274)]).then(l.bind(l,91274)),{loadableGenerated:{webpack:()=>[91274]}}),r=s()(()=>Promise.all([l.e(4454),l.e(7897)]).then(l.bind(l,97897)),{loadableGenerated:{webpack:()=>[97897]}}),d=s()(()=>Promise.all([l.e(3536),l.e(2726)]).then(l.bind(l,2726)),{loadableGenerated:{webpack:()=>[2726]}}),c=s()(()=>Promise.all([l.e(549),l.e(378)]).then(l.bind(l,90378)),{loadableGenerated:{webpack:()=>[90378]}}),h=s()(()=>Promise.all([l.e(9300),l.e(7200)]).then(l.bind(l,7200)),{loadableGenerated:{webpack:()=>[7200]}}),j=s()(()=>Promise.all([l.e(1664),l.e(8681)]).then(l.bind(l,28681)),{loadableGenerated:{webpack:()=>[28681]}});s()(()=>l.e(2857).then(l.bind(l,22857)),{loadableGenerated:{webpack:()=>[22857]}});let t=s()(()=>Promise.all([l.e(2004),l.e(3070)]).then(l.bind(l,63070)),{loadableGenerated:{webpack:()=>[63070]}}),X=s()(()=>Promise.all([l.e(162),l.e(4380),l.e(3959),l.e(6050),l.e(239),l.e(8568)]).then(l.bind(l,32215)),{loadableGenerated:{webpack:()=>[32215]}}),a=s()(()=>Promise.all([l.e(162),l.e(1664),l.e(3959),l.e(6050),l.e(4205)]).then(l.bind(l,84205)),{loadableGenerated:{webpack:()=>[84205]}})}},function(e){e.O(0,[4104,162,7810,4380,4612,2888,9774,179],function(){return e(e.s=57791)}),_N_E=e.O()}]);